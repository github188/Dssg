define(["base","app/commonApp"],function(e,t){var a=function(){if($("#catalog_detail").val()){var a=$("#catalog_detail").val()}else{var a=$(".modal").attr("id")}e.ajax({url:$.path+"/api/resCatalog/findResourceByID?id="+a,type:"get",success:function(e){var a=e.data;var r=null;if(a.filePath){r=$.path+"/dssg/"+a.filePath}else{r=$.path+"/dssg/"+a.pictureUrl}$(".ui-page-headingImage").attr("src",r);switch(a.resType){case"1":$(".api-type").hide();var n=JSON.parse(a.dbJson);var o="";$.each(n,function(e,a){o+="<tr><td>"+a.name+"</td>"+"<td>"+a.ename.substring(4)+"</td>"+"<td>"+a.code+"</td>"+"<td>"+t.typeSelect(a.type)+"</td>"+"<td>"+a.length+"</td>"+"<td>"+function(){return a.dataCode?a.dataCode:"--"}()+"</td></tr>"});$(".db-type .db-tbody").append(o);break;case"2":$(".db-type").hide();$(".api-type").hide();break;case"3":$(".db-type").hide();var m=JSON.parse(a.apiJson);var d=m.requestParams;var s=m.responseStruct;$.each(d,function(e,t){var a="<tr><td>"+t.name+"</td>"+"<td>系统参数</td>"+"<td>"+function(){return t.mandatory==0?"是":"否"}()+"</td>"+"<td>"+t.desc+"</td></tr>";$(".api-type .in-tbody").append(a)});$.each(s,function(e,a){var c="<tr><td>"+a.name+"</td>"+"<td>"+t.typeSelect(a.type)+"</td>"+"<td>"+function(){return a.notNull==0?"是":"否"}()+"</td>"+"<td>"+a.desc+"</td></tr>";$(".api-type .out-tbody").append(c)});break}$(".res-check-common .companyName").text(a.companyName);$(".res-check-common .equipmentName").text(a.equipmentName);$(".res-check-common .linkman").text(a.linkman);$(".res-check-common .phone").text(a.phone?a.phone:"");$(".res-check-common .doMainName").text(a.doMainName);$(".res-check-common .catalogName").text(a.catalogName);$(".res-check-common .resType").text(c(a.resType));$(".res-check-common .updateTime").text(a.updateTime);$(".res-check-common .resName").text(a.resName);$(".res-check-common .abstracts").text(a.abstracts);$(".res-check-common .resCode").text(a.resCode);$(".res-check-common .resEname").text(a.resEname);$(".res-check-common .resLevel").text(a.resLevel==1?"部分共享":"完全共享");$(".res-check-common .themeTypeName").text(a.themeTypeName);$(".res-check-common .industryTypeName").text(a.industryTypeName);$(".res-check-common .catalogName").text(a.catalogName);$(".res-check-common .updateCycle").text(a.updateCycle)}})};var c=function(e){switch(e){case"1":return"数据库";break;case"2":return"文件";break;case"3":return"API";break}};return{main:function(){a()}}});