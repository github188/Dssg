define(["base","app/commonApp"],function(e,t){var a=function(){$.ajax({type:"get",url:$.path+"/api/sysroles/findRoleList",success:function(t){e.template({container:$(".userRole"),templateId:"userRole-tpl",data:t.data})}})};var n=function(){$("#form").find("input[name='loginName']").on("blur",function(){if($(this).val()){var t={loginName:$(this).val()};e.ajax({type:"get",url:$.path+"/api/sysuser/checkLoginName",params:t,success:function(t){if(t.code=="0"){if(t.data){$(".checkName").attr("cstate",true)}else{$(".checkName").attr("cstate",false);e.requestTip({position:"center"}).error("用户名重复")}}}})}})};return{main:function(){n();a()}}});